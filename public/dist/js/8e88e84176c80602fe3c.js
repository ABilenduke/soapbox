(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{f25P:function(e,r,t){"use strict";t.r(r);var s=t("o0o1"),o=t.n(s),a=t("vDqi"),n=t.n(a),l=t("d+lt");function i(e,r,t,s,o,a,n){try{var l=e[a](n),i=l.value}catch(e){return void t(e)}l.done?r(i):Promise.resolve(i).then(s,o)}function c(e){return function(){var r=this,t=arguments;return new Promise((function(s,o){var a=e.apply(r,t);function n(e){i(a,s,o,n,l,"next",e)}function l(e){i(a,s,o,n,l,"throw",e)}n(void 0)}))}}var u={name:"LoginPage",middleware:"guest",metaInfo:function(){return{title:this.$t("login.title")}},data:function(){return{form:{email:null,password:null},remember:!1,mustVerifyMessage:null}},methods:{login:function(){var e=this;return c(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.a.post("/api/login",e.form).then(function(){var r=c(o.a.mark((function r(t){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.data,e.$store.dispatch("auth/saveToken",{token:s.token,remember:e.remember}),e.$store.commit("flash/".concat(l.a),{level:"success",body:e.$t("login.messages.success"),isAutoRemove:!0}),r.next=5,e.$store.dispatch("auth/fetchUser");case 5:e.$router.push({name:"home"});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(r){var t=r.response.data.errors;t.email&&(e.mustVerifyMessage=t.email[0]),e.$store.commit("flash/".concat(l.a),{level:"danger",body:"login.messages.failure",isAutoRemove:!0})}));case 2:case"end":return r.stop()}}),r)})))()},resetForm:function(){this.form.email="",this.form.password="",this.$refs.loginObserver.reset()}}},m=t("KHd+"),v=Object(m.a)(u,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",{attrs:{fluid:""}},[t("v-row",{attrs:{dense:""}},[t("v-col",[t("ValidationObserver",{ref:"loginObserver",scopedSlots:e._u([{key:"default",fn:function(r){var s=r.invalid;return[t("form",[t("v-container",[t("v-sheet",{staticClass:"pa-12"},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("h1",[e._v("\n                      "+e._s(e.$t("login.title"))+"\n                    ")])])],1),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{name:"email",label:e.$t("email"),"error-messages":s,type:"email",required:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})]}}],null,!0)})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{name:"password",label:e.$t("password"),"error-messages":s,type:"password",required:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})]}}],null,!0)})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{attrs:{label:e.$t("remember_me")},model:{value:e.remember,callback:function(r){e.remember=r},expression:"remember"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-btn",{staticClass:"mr-4",attrs:{color:"success",disabled:s},on:{click:e.login}},[e._v("\n                      "+e._s(e.$t("submit"))+"\n                    ")]),e._v(" "),t("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.resetForm}},[e._v("\n                      "+e._s(e.$t("reset"))+"\n                    ")])],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("router-link",{attrs:{to:{name:"password.request"}}},[e._v("\n                      "+e._s(e.$t("login.resetPassword"))+"\n                    ")])],1)],1),e._v(" "),e.mustVerifyMessage?t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-alert",{attrs:{color:"orange"},domProps:{innerHTML:e._s(e.mustVerifyMessage)}})],1)],1):e._e()],1)],1)],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);r.default=v.exports}}]);